<div class="reservations-container">
  <div class="reservations-header">
    <h2>My Reservations</h2>
  </div>

  <div class="tab-navigation">
    <div
      class="tab"
      [class.active]="activeTab === 'upcoming'"
      (click)="setActiveTab('upcoming')"
    >
      Upcoming
    </div>
    <div
      class="tab"
      [class.active]="activeTab === 'past'"
      (click)="setActiveTab('past')"
    >
      Past
    </div>
  </div>

  <div
    class="reservations-list"
    *ngIf="activeTab === 'upcoming' && upcomingReservations.length > 0"
  >
    <div
      *ngFor="let reservation of upcomingReservations"
      class="reservation-card"
    >
      <div class="reservation-date">
        <div class="date-day">{{ reservation.date | date : "dd" }}</div>
        <div class="date-month">{{ reservation.date | date : "MMM" }}</div>
      </div>

      <div class="reservation-details">
        <div class="reservation-spot">
          <mat-icon>location_on</mat-icon>
          <span>Spot {{ reservation.spot }}</span>
        </div>
        <div class="reservation-vehicle">
          <mat-icon>directions_car</mat-icon>
          <span>{{ reservation.vehicle }}</span>
        </div>
      </div>

      <div class="reservation-actions">
        <button
          mat-stroked-button
          color="primary"
          (click)="editReservation(reservation)"
          class="edit-button"
        >
          Edit
        </button>
        <button
          mat-stroked-button
          color="warn"
          (click)="cancelReservation(reservation.id)"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>

  <div
    class="reservations-list"
    *ngIf="activeTab === 'past' && pastReservations.length > 0"
  >
    <div *ngFor="let reservation of pastReservations" class="reservation-card">
      <div class="reservation-date">
        <div class="date-day">{{ reservation.date | date : "dd" }}</div>
        <div class="date-month">{{ reservation.date | date : "MMM" }}</div>
      </div>

      <div class="reservation-details">
        <div class="reservation-spot">
          <mat-icon>location_on</mat-icon>
          <span>Spot {{ reservation.spot }}</span>
        </div>
        <div class="reservation-vehicle">
          <mat-icon>directions_car</mat-icon>
          <span>{{ reservation.vehicle }}</span>
        </div>
      </div>
    </div>
  </div>

  <div
    class="empty-state"
    *ngIf="activeTab === 'upcoming' && upcomingReservations.length === 0"
  >
    <mat-icon>event_busy</mat-icon>
    <h3>No upcoming reservations</h3>
    <p>You don't have any upcoming parking reservations.</p>
    <button mat-raised-button color="primary" (click)="createNewReservation()">
      Make a Reservation
    </button>
  </div>

  <div
    class="empty-state"
    *ngIf="activeTab === 'past' && pastReservations.length === 0"
  >
    <mat-icon>history</mat-icon>
    <h3>No past reservations</h3>
    <p>You don't have any past parking reservations.</p>
  </div>
</div>
